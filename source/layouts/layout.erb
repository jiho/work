<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title><%= current_page.data.title || "Jean-Olivier Irisson" %></title>

	<!-- Add favicon -->
	<%= favicon_tag "favicon.png" %>

	<!-- jQuery -->
	<%= javascript_include_tag "jquery-2.0.3" %>

	<!-- Slimbox -->
	<%= javascript_include_tag "slimbox2" %>
	<%= stylesheet_link_tag "slimbox2" %>

	<!-- Bootstrap -->
	<%= stylesheet_link_tag "bootstrap" %>
	<%= javascript_include_tag "bootstrap" %>

	<!-- <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-theme.min.css"> -->

	<!-- Ensure proper rendering and zooming on mobile devices, with Bootstrap -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Personal style customisation -->
	<%= stylesheet_link_tag "jo" %>

  </head>

  <body class="<%= page_classes %>">

  	<div style="position: absolute; top: 0; right: 0">
  		<canvas id="bubbles" width="500px" height="500px" class="pull-right">
  		</canvas>

  		<script>
	  		var c=document.getElementById("bubbles");
	  		var ctx=c.getContext("2d");
			// Width and height of the region where content is actually drawn
	  		var w=200;
	  		var h=200;
	  		for (var i=0; i<11; i++) {
				// Location
	  			var x=Math.random()*w;
	  			var y=Math.random()*h;
				// Radius: increases towards the top right
				var scalingFactor=500;
	  			var r=(h-y)*x / scalingFactor;
	  			ctx.beginPath();
	  			ctx.arc(x+300,y,r,0,2*Math.PI);
				// NB: offset x position to avoid cutting circles on the edge of the canvas
				// Set stroke to be blue like the rest of the website and less transparent when going towards the top
	  	        ctx.strokeStyle = 'rgba(51,51,175,' + (1-y/h) + ')';
	  			ctx.stroke();
	  		}
  		</script>

  	</div>

	<div class="container">
		<header>
			<div class="row">
				<div class="col-sm-12">
					<%= partial "header" %>
				</div>
			</div>
		</header>

		<div class="row">
			<article class="col-sm-8">
				<h2><%= current_page.data.title %></h2>
				<!-- <div id="debug" onClick="debugg()"><p>Debug messages</p></div> -->
				<%= yield %>
			</article>

			<aside class="col-sm-4 hidden-print">
				<%= partial "sidebar"%>
			</aside>
		</div>

		<footer class="hidden-print">
			<div class="row">
				<div class="col-sm-12">
					<%= partial "footer" %>
				</div>
			</div>
		</footer>
	</div>

  </body>
</html>
